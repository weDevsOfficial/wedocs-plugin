{"version":3,"file":"editor.js","mappings":"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","sources":["webpack://weDocs/./src/editor/AiDocWriter.js","webpack://weDocs/./src/editor/AiDocWriterModal.js","webpack://weDocs/./src/editor/AiDocWriterPreview.js","webpack://weDocs/./src/utils/aiService.js","webpack://weDocs/external window \"React\"","webpack://weDocs/external window [\"wp\",\"blockEditor\"]","webpack://weDocs/external window [\"wp\",\"blocks\"]","webpack://weDocs/external window [\"wp\",\"components\"]","webpack://weDocs/external window [\"wp\",\"coreData\"]","webpack://weDocs/external window [\"wp\",\"data\"]","webpack://weDocs/external window [\"wp\",\"editor\"]","webpack://weDocs/external window [\"wp\",\"element\"]","webpack://weDocs/external window [\"wp\",\"i18n\"]","webpack://weDocs/external window [\"wp\",\"plugins\"]","webpack://weDocs/webpack/bootstrap","webpack://weDocs/webpack/runtime/compat get default export","webpack://weDocs/webpack/runtime/define property getters","webpack://weDocs/webpack/runtime/hasOwnProperty shorthand","webpack://weDocs/webpack/runtime/make namespace object"],"sourcesContent":["import { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { registerPlugin } from '@wordpress/plugins';\nimport { PluginSidebar } from '@wordpress/editor';\nimport { useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport AiDocWriterModal from './AiDocWriterModal';\n\n// Custom AI icon SVG - Neural network/brain inspired\nconst AiIcon = () => (\n    <svg width=\"22\" height=\"18\" viewBox=\"0 0 22 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M20.3574 0.120361C21.0356 0.120379 21.5839 0.668752 21.584 1.34692C21.584 1.84677 21.2856 2.27474 20.8574 2.46606V6.36353C21.5099 6.66256 21.9503 7.20505 21.9961 8.0481C21.9985 8.09871 22 8.67906 22 8.72974C22 8.77621 21.999 9.60227 21.999 9.65161C21.931 10.9279 20.9632 11.5184 19.7197 11.6145C18.9403 15.5822 15.3332 17.8801 10.999 17.8801C6.66363 17.8801 3.05521 15.5812 2.27637 11.6116C1.03483 11.4955 0.0707824 10.8026 0.00390625 9.52954C0.00145752 9.48179 0 8.77749 0 8.72974C1.39541e-06 8.68032 0.00145892 8.21911 0.00390625 8.17017C0.0497323 7.32686 0.489827 6.73982 1.14258 6.40552V2.46606C0.715048 2.27453 0.416016 1.84641 0.416016 1.34692C0.416151 0.669965 0.966565 0.120361 1.64355 0.120361C2.32161 0.120549 2.86998 0.668858 2.87012 1.34692C2.87012 1.84713 2.57124 2.27592 2.14258 2.46704V6.10571C2.20844 6.09723 2.27527 6.0913 2.34277 6.08618C3.24165 2.30043 6.77492 0.120405 11 0.120361C15.2243 0.120361 18.7565 2.29975 19.6562 6.08423C19.7241 6.08853 19.7912 6.0936 19.8574 6.10083V2.46606C19.4296 2.27466 19.1309 1.84662 19.1309 1.34692C19.131 0.669966 19.6804 0.120361 20.3574 0.120361ZM11.001 2.0686C7.3014 2.0686 4.27893 4.20979 4.0791 7.85962C4.07241 7.98673 4.06836 8.8722 4.06836 9.00122C4.06836 9.12651 4.07144 10.0059 4.07812 10.1282C4.27139 13.7836 7.29669 15.9319 11 15.9319C14.7032 15.9318 17.7286 13.7835 17.9209 10.1282C17.9285 10.0059 17.9326 9.12651 17.9326 9.00122C17.9326 8.8722 17.9286 7.98673 17.9219 7.85962C17.722 4.20989 14.7004 2.06871 11.001 2.0686ZM7.89746 6.43677C8.61856 6.43677 9.20299 7.02136 9.20312 7.74243C9.20312 8.46362 8.61865 9.0481 7.89746 9.0481C7.17631 9.04806 6.5918 8.4636 6.5918 7.74243C6.59193 7.02138 7.17639 6.43681 7.89746 6.43677ZM14.0977 6.43677C14.8195 6.43692 15.4032 7.0206 15.4033 7.74243C15.4033 8.46437 14.8196 9.04794 14.0977 9.0481C13.3756 9.0481 12.792 8.46446 12.792 7.74243C12.7921 7.02051 13.3757 6.43677 14.0977 6.43677Z\" fill=\"currentColor\"/>\n    </svg>\n);\n\nconst AiDocWriter = () => {\n    const [isModalOpen, setIsModalOpen] = useState(false);\n\n    // Check if we're in the docs post type\n    const { isViewable, postTypeName } = useSelect((select) => {\n        const postType = select(editorStore).getCurrentPostType();\n        const postTypeObject = select(coreStore).getPostType(postType);\n        return {\n            isViewable: postTypeObject?.viewable,\n            postTypeName: postType,\n        };\n    }, []);\n\n    // Only show for docs post type\n    if (!isViewable || postTypeName !== 'docs') {\n        return null;\n    }\n\n\n    return (\n        <>\n            {/* Custom styles for AI Doc Writer icon */}\n            <style>\n                {`\n                    /* AI Doc Writer icon active state */\n                    .components-button[aria-controls=\"wedocs-ai-doc-writer:wedocs-ai-doc-writer\"] {\n                        background-color: #4338CA !important;\n                        color: white !important;\n                        border-radius: 4px !important;\n                        transition: all 0.2s ease !important;\n                    }\n                    \n                    .components-button[aria-controls=\"wedocs-ai-doc-writer:wedocs-ai-doc-writer\"]:hover {\n                        background-color: #3730A3 !important;\n                        transform: translateY(-1px) !important;\n                        box-shadow: 0 4px 8px rgba(67, 56, 202, 0.3) !important;\n                    }\n                    \n                    .components-button[aria-controls=\"wedocs-ai-doc-writer:wedocs-ai-doc-writer\"]:focus {\n                        box-shadow: 0 0 0 2px rgba(67, 56, 202, 0.5) !important;\n                    }\n                    \n                    /* Icon color when active */\n                    .components-button[aria-controls=\"wedocs-ai-doc-writer:wedocs-ai-doc-writer\"] svg path {\n                        fill: white !important;\n                    }\n                `}\n            </style>\n            \n            <PluginSidebar\n                name=\"wedocs-ai-doc-writer\"\n                title={__('AI Doc Writer', 'wedocs')}\n                icon={AiIcon}\n            >\n                <div style={{ padding: '16px' }}>\n                    <p style={{ marginBottom: '16px', fontSize: '14px', color: '#666' }}>\n                        {__('Generate AI-powered documentation content with advanced language models.', 'wedocs')}\n                    </p>\n                    \n                    <button\n                        onClick={() => setIsModalOpen(true)}\n                        className=\"button button-primary\"\n                        style={{ \n                            width: '100%',\n                            height: '40px',\n                            fontSize: '14px',\n                            fontWeight: '500',\n                            backgroundColor: '#4338CA',\n                            borderColor: '#4338CA'\n                        }}\n                    >\n                        {__('Open AI Doc Writer', 'wedocs')}\n                    </button>\n                </div>\n            </PluginSidebar>\n\n            {isModalOpen && (\n                <AiDocWriterModal\n                    isOpen={isModalOpen}\n                    onClose={() => setIsModalOpen(false)}\n                />\n            )}\n        </>\n    );\n};\n\n// Register the plugin\nregisterPlugin('wedocs-ai-doc-writer', {\n    render: AiDocWriter,\n    icon: AiIcon, // Custom AI icon\n});","import { __ } from '@wordpress/i18n';\nimport { useState, useEffect, useMemo } from '@wordpress/element';\nimport {\n    Modal,\n    Button,\n    TextControl,\n    TextareaControl,\n    ToggleControl,\n    Notice,\n    Spinner,\n    PanelBody,\n    PanelRow,\n    Card,\n    CardBody,\n    CardHeader,\n    Flex,\n    FlexItem,\n    __experimentalHStack as HStack,\n    __experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { createBlock } from '@wordpress/blocks';\nimport AiDocWriterPreview from './AiDocWriterPreview';\nimport aiService from '../utils/aiService';\n\nconst AiDocWriterModal = ({ isOpen, onClose }) => {\n    const [title, setTitle] = useState('');\n    const [prompt, setPrompt] = useState('');\n    const [keywords, setKeywords] = useState('');\n    const [overwriteContent, setOverwriteContent] = useState(false);\n    const [isGenerating, setIsGenerating] = useState(false);\n    const [generatedContent, setGeneratedContent] = useState('');\n    const [showPreview, setShowPreview] = useState(false);\n    const [error, setError] = useState('');\n\n    // WordPress editor dispatch hooks\n    const { insertBlocks, replaceBlocks, insertDefaultBlock } = useDispatch(blockEditorStore);\n    const { editPost } = useDispatch(editorStore);\n\n    // Get current post data and editor state with enhanced cursor detection\n    const editorData = useSelect((select) => {\n        const { getCurrentPost, getEditedPostContent } = select('core/editor');\n        const { \n            getSelectedBlockClientId, \n            getBlocks, \n            getSelectedBlock,\n            getBlockInsertionPoint,\n            getBlockOrder\n        } = select('core/block-editor');\n        \n        return {\n            post: getCurrentPost(),\n            content: getEditedPostContent(),\n            selectedBlockClientId: getSelectedBlockClientId(),\n            blocks: getBlocks(),\n            selectedBlock: getSelectedBlock(),\n            insertionPoint: getBlockInsertionPoint(),\n            blockOrder: getBlockOrder()\n        };\n    }, []);\n\n    // Create stable references using useMemo\n    const { currentPost, selectedBlockId, blocks, cursorPosition } = useMemo(() => {\n        const post = editorData.post;\n        const content = editorData.content;\n        const selectedBlockClientId = editorData.selectedBlockClientId;\n        const blocks = editorData.blocks || [];\n        const selectedBlock = editorData.selectedBlock;\n        const insertionPoint = editorData.insertionPoint;\n        const blockOrder = editorData.blockOrder || [];\n        \n        return {\n            currentPost: {\n                id: post?.id || null,\n                title: post?.title || '',\n                contentRaw: content || '',\n                contentRendered: content || ''\n            },\n            selectedBlockId: selectedBlockClientId || null,\n            blocks: blocks,\n            cursorPosition: {\n                selectedBlock: selectedBlock,\n                insertionPoint: insertionPoint,\n                blockOrder: blockOrder,\n                hasSelection: !!selectedBlockClientId,\n                selectedBlockIndex: selectedBlock ? blockOrder.indexOf(selectedBlock.clientId) : -1\n            }\n        };\n    }, [editorData]);\n\n    // Pre-fill title with current post title\n    useEffect(() => {\n        if (currentPost?.title && !title) {\n            setTitle(currentPost.title);\n        }\n    }, [currentPost, title]);\n\n    // Generate dynamic prompt from title and keywords\n    const generateDynamicPrompt = (docTitle, docKeywords) => {\n        if (!docTitle && !docKeywords) {\n            return __(\n                \"Generate documentation using HTML heading tags for the title. Include details on {Documentation Keywords} and wrap all content in <p> tags. Highlight headings and keywords with <span class='highlight'>.\",\n                'wedocs'\n            );\n        }\n\n        let dynamicPrompt = __(\n            \"Generate documentation using HTML heading tags for '{title}'. Include relevant details on {keywords} in the documentation. Wrap all content in <p> tags. Highlight headings and keywords with <span class='highlight'>.\",\n            'wedocs'\n        );\n\n        // Replace placeholders with actual values\n        if (docTitle) {\n            dynamicPrompt = dynamicPrompt.replace('{title}', docTitle);\n        } else {\n            dynamicPrompt = dynamicPrompt.replace(\"for '{title}'\", 'for the title');\n        }\n\n        if (docKeywords) {\n            dynamicPrompt = dynamicPrompt.replace('{keywords}', docKeywords);\n        } else {\n            dynamicPrompt = dynamicPrompt.replace('Include relevant details on {keywords} in the documentation.', 'Include relevant details in the documentation.');\n        }\n\n        return dynamicPrompt;\n    };\n\n    // Update prompt when title or keywords change\n    useEffect(() => {\n        const dynamicPrompt = generateDynamicPrompt(title, keywords);\n        setPrompt(dynamicPrompt);\n    }, [title, keywords]);\n\n    // Clean AI-generated content\n    const cleanGeneratedContent = (content) => {\n        if (!content) return content;\n        \n        // Remove HTML document structure\n        let cleaned = content\n            .replace(/```html\\s*/gi, '') // Remove markdown code blocks\n            .replace(/```\\s*/g, '') // Remove closing code blocks\n            .replace(/<!DOCTYPE[^>]*>/gi, '') // Remove DOCTYPE\n            .replace(/<html[^>]*>/gi, '') // Remove html tag\n            .replace(/<\\/html>/gi, '') // Remove closing html tag\n            .replace(/<head[^>]*>[\\s\\S]*?<\\/head>/gi, '') // Remove head section\n            .replace(/<body[^>]*>/gi, '') // Remove body opening tag\n            .replace(/<\\/body>/gi, '') // Remove body closing tag\n            .replace(/<style[^>]*>[\\s\\S]*?<\\/style>/gi, '') // Remove style blocks\n            .replace(/<title[^>]*>[\\s\\S]*?<\\/title>/gi, '') // Remove title\n            .replace(/<meta[^>]*>/gi, '') // Remove meta tags\n            .trim();\n        \n        return cleaned;\n    };\n\n    // Validate AI-generated content\n    const validateGeneratedContent = (content) => {\n        const errors = [];\n\n        // Check if content is empty\n        if (!content || content.trim().length === 0) {\n            errors.push(__('Generated content is empty.', 'wedocs'));\n            return { isValid: false, errors };\n        }\n\n        // Check for basic HTML structure\n        const hasParagraphs = /<p[^>]*>.*?<\\/p>/i.test(content);\n        const hasHeadings = /<h[1-6][^>]*>.*?<\\/h[1-6]>/i.test(content);\n\n        if (!hasParagraphs && !hasHeadings) {\n            errors.push(__('Generated content should contain at least paragraphs or headings.', 'wedocs'));\n        }\n\n\n        // Check for potentially dangerous HTML (basic XSS prevention)\n        const dangerousPatterns = [\n            /<script[^>]*>.*?<\\/script>/gi,\n            /<iframe[^>]*>.*?<\\/iframe>/gi,\n            /javascript:/gi,\n            /on\\w+\\s*=/gi\n        ];\n\n        for (const pattern of dangerousPatterns) {\n            if (pattern.test(content)) {\n                errors.push(__('Generated content contains potentially unsafe HTML elements.', 'wedocs'));\n                break;\n            }\n        }\n\n        // Check for minimum content length\n        const textContent = content.replace(/<[^>]*>/g, '').trim();\n        if (textContent.length < 50) {\n            errors.push(__('Generated content is too short. Please try again with more specific keywords.', 'wedocs'));\n        }\n\n        // Check for maximum content length (prevent extremely long content)\n        if (textContent.length > 10000) {\n            errors.push(__('Generated content is too long. Please try again with more focused keywords.', 'wedocs'));\n        }\n\n        return {\n            isValid: errors.length === 0,\n            errors\n        };\n    };\n\n\n    const handleGenerate = async () => {\n        if (!title.trim()) {\n            setError(__('Please enter a documentation title.', 'wedocs'));\n            return;\n        }\n\n        if (!keywords.trim()) {\n            setError(__('Please enter keywords to guide the AI.', 'wedocs'));\n            return;\n        }\n\n        setError('');\n        setIsGenerating(true);\n\n        try {\n            // Get AI settings to determine provider and model\n            const aiSettings = await aiService.getAiSettings();\n\n            // Check if AI is properly configured\n            if (!aiSettings.providers[aiSettings.default_provider]?.api_key) {\n                setError(__('AI service is not configured. Please set up your AI provider settings in weDocs > Settings > AI Control Settings.', 'wedocs'));\n                return;\n            }\n\n            // Use AI service to generate content\n            const systemPrompt = __(\n                'You are a professional documentation writer. Generate comprehensive, well-structured documentation content using HTML tags. Use proper heading hierarchy (h2, h3, etc.) and wrap all content in paragraph tags. Highlight important terms with <span class=\"highlight\"> tags. IMPORTANT: Only return the content body without HTML document structure (no <!DOCTYPE>, <html>, <head>, <style>, or <body> tags). Return only the content that should be inserted into the document.',\n                'wedocs'\n            );\n\n            const selectedModel = aiSettings.providers[aiSettings.default_provider].selected_model;\n\n                const result = await aiService.generateContent(prompt, {\n                    provider: aiSettings.default_provider,\n                    model: selectedModel,\n                    feature: 'ai_doc_writer',\n                    systemPrompt: systemPrompt,\n                    maxTokens: 2000,\n                    temperature: 0.7\n                });\n\n\n                if (!result.content) {\n                    throw new Error(__('AI service returned empty content', 'wedocs'));\n                }\n\n                // Clean the generated content\n                const cleanedContent = cleanGeneratedContent(result.content);\n\n            // Validate the generated content\n            const validation = validateGeneratedContent(cleanedContent);\n\n            if (!validation.isValid) {\n                setError(validation.errors.join(' '));\n                return;\n            }\n\n            setGeneratedContent(cleanedContent);\n            setShowPreview(true);\n        } catch (err) {\n            setError(err.message || __('Failed to generate content. Please try again.', 'wedocs'));\n        } finally {\n            setIsGenerating(false);\n        }\n    };\n\n    // Sanitize content for security (following BetterDocs Pro pattern)\n    const sanitizeContent = (content) => {\n        if (!content) return content;\n        \n        // Remove script tags and their contents\n        content = content.replace(/<script[^>]*>.*?<\\/script>/gi, '');\n        \n        // Remove javascript: protocols but keep the anchor tags\n        content = content.replace(/href\\s*=\\s*([\"\\'])\\s*javascript:.*?\\1/i, 'href=\"#\"');\n        \n        // Remove all event handlers (onclick, onload, etc) but keep the elements\n        content = content.replace(/\\s+on\\w+\\s*=\\s*([\"\\'])?[^\"\\']*\\1?/i, '');\n        \n        // Remove any inline javascript: in attributes\n        content = content.replace(/javascript\\s*:/i, '');\n        \n        return content;\n    };\n\n    // Parse HTML content and create appropriate blocks\n    const createContentBlocks = (htmlContent) => {\n        const blocks = [];\n        \n        // Sanitize the content first\n        const sanitizedContent = sanitizeContent(htmlContent);\n        \n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = sanitizedContent;\n        \n        // Process each top-level element\n        Array.from(tempDiv.children).forEach(element => {\n            const tagName = element.tagName.toLowerCase();\n            \n            switch (tagName) {\n                case 'h1':\n                case 'h2':\n                case 'h3':\n                case 'h4':\n                case 'h5':\n                case 'h6':\n                    const level = parseInt(tagName.charAt(1));\n                    blocks.push(createBlock('core/heading', {\n                        content: element.innerHTML,\n                        level: level\n                    }));\n                    break;\n                    \n                case 'p':\n                    blocks.push(createBlock('core/paragraph', {\n                        content: element.innerHTML\n                    }));\n                    break;\n                    \n                case 'ul':\n                case 'ol':\n                    const listType = tagName === 'ul' ? 'ul' : 'ol';\n                    const listItems = Array.from(element.querySelectorAll('li')).map(li => li.innerHTML);\n                    blocks.push(createBlock('core/list', {\n                        values: listItems,\n                        ordered: listType === 'ol'\n                    }));\n                    break;\n                    \n                case 'blockquote':\n                    blocks.push(createBlock('core/quote', {\n                        value: element.innerHTML\n                    }));\n                    break;\n                    \n                default:\n                    // For any other HTML content, use HTML block\n                    blocks.push(createBlock('core/html', {\n                        content: element.outerHTML\n                    }));\n                    break;\n            }\n        });\n        \n        // If no blocks were created (e.g., only text), create a paragraph\n        if (blocks.length === 0) {\n            blocks.push(createBlock('core/paragraph', {\n                content: htmlContent\n            }));\n        }\n        \n        return blocks;\n    };\n\n    const handleAccept = () => {\n        try {\n            // Create blocks from the generated content\n            const contentBlocks = createContentBlocks(generatedContent);\n\n            if (overwriteContent) {\n                // Overwrite Mode: Replace entire post content\n                const blockIds = blocks.map(block => block.clientId).filter(id => id);\n                \n                if (blockIds.length > 0) {\n                    replaceBlocks(blockIds, contentBlocks);\n                } else {\n                    insertBlocks(contentBlocks);\n                }\n            } else {\n                // Insert Mode: Insert at current cursor position\n                // Use reliable method that appends to end of document\n                const currentBlocks = wp.data.select('core/block-editor').getBlocks();\n                const allBlocks = [...currentBlocks, ...contentBlocks];\n                const allBlockIds = currentBlocks.map(block => block.clientId);\n                wp.data.dispatch('core/block-editor').replaceBlocks(allBlockIds, allBlocks);\n            }\n            \n            // Close modal\n            onClose();\n            \n        } catch (error) {\n            setError(__('Failed to insert content. Please try again.', 'wedocs'));\n        }\n    };\n\n    const handleReject = () => {\n        setShowPreview(false);\n        setGeneratedContent('');\n    };\n\n    const handleClose = () => {\n        setShowPreview(false);\n        setGeneratedContent('');\n        setError('');\n        onClose();\n    };\n\n    return (\n        <Modal\n            title={__('AI Doc Writer', 'wedocs')}\n            onRequestClose={handleClose}\n            className=\"wedocs-ai-doc-writer-modal\"\n            size=\"large\"\n        >\n            {!showPreview ? (\n                <VStack spacing={4}>\n                    <Card>\n                        <CardBody>\n                            <VStack spacing={3}>\n                                <TextControl\n                                    label={__('Documentation Title', 'wedocs')}\n                                    value={title}\n                                    onChange={setTitle}\n                                    placeholder={__('Enter your documentation title here...', 'wedocs')}\n                                    help={__('The title will be used to generate relevant content.', 'wedocs')}\n                                    __nextHasNoMarginBottom\n                                    __next40pxDefaultSize\n                                />\n\n                                <TextControl\n                                    label={__('Keywords', 'wedocs')}\n                                    value={keywords}\n                                    onChange={setKeywords}\n                                    placeholder={__('Add keywords to guide AI (comma-separated)...', 'wedocs')}\n                                    help={__('Enter relevant keywords separated by commas.', 'wedocs')}\n                                    __nextHasNoMarginBottom\n                                    __next40pxDefaultSize\n                                />\n\n                                <TextareaControl\n                                    label={__('AI Instructions', 'wedocs')}\n                                    value={prompt}\n                                    onChange={setPrompt}\n                                    rows={4}\n                                    placeholder={__('AI instructions will be auto-generated from title and keywords...', 'wedocs')}\n                                    help={__('Instructions are automatically generated from your title and keywords. You can edit them manually if needed.', 'wedocs')}\n                                    __nextHasNoMarginBottom\n                                />\n\n                                <ToggleControl\n                                    label={__('Overwrite your existing Doc', 'wedocs')}\n                                    checked={overwriteContent}\n                                    onChange={setOverwriteContent}\n                                    help={__('When enabled, AI content will replace the entire document. When disabled, content will be inserted at the end of the current contents.', 'wedocs')}\n                                    __nextHasNoMarginBottom\n                                />\n                            </VStack>\n                        </CardBody>\n                    </Card>\n\n                    {error && (\n                        <Notice status=\"error\" isDismissible={false}>\n                            {error}\n                        </Notice>\n                    )}\n\n                    <HStack justify=\"flex-end\" spacing={2}>\n                        <Button variant=\"secondary\" onClick={handleClose}>\n                            {__('Cancel', 'wedocs')}\n                        </Button>\n                        <Button\n                            variant=\"primary\"\n                            onClick={handleGenerate}\n                            disabled={isGenerating}\n                        >\n                            {isGenerating ? (\n                                <>\n                                    <Spinner />\n                                    {__('Generating...', 'wedocs')}\n                                </>\n                            ) : (\n                                __('Generate Content', 'wedocs')\n                            )}\n                        </Button>\n                    </HStack>\n                </VStack>\n            ) : (\n                <AiDocWriterPreview\n                    content={generatedContent}\n                    onAccept={handleAccept}\n                    onReject={handleReject}\n                    onClose={handleClose}\n                />\n            )}\n        </Modal>\n    );\n};\n\nexport default AiDocWriterModal;\n","import { __ } from '@wordpress/i18n';\nimport { Button, Notice, Card, CardBody, CardHeader, __experimentalHStack as HStack, __experimentalVStack as VStack } from '@wordpress/components';\n\nconst AiDocWriterPreview = ({ content, onAccept, onReject, onClose }) => {\n    return (\n        <VStack spacing={4}>\n            <Card>\n                <CardBody>\n                    <div \n                        dangerouslySetInnerHTML={{ __html: content }}\n                        style={{\n                            border: '1px solid #ddd',\n                            padding: '16px',\n                            borderRadius: '4px',\n                            backgroundColor: '#f9f9f9',\n                            maxHeight: '400px',\n                            overflowY: 'auto'\n                        }}\n                    />\n                </CardBody>\n            </Card>\n\n            <Notice status=\"info\" isDismissible={false}>\n                {__(\n                    'The content above is formatted with HTML tags. When inserted, it will be properly formatted in your document.',\n                    'wedocs'\n                )}\n            </Notice>\n\n            <HStack justify=\"flex-end\" spacing={2}>\n                <Button\n                    variant=\"tertiary\"\n                    onClick={onClose}\n                >\n                    {__('Cancel', 'wedocs')}\n                </Button>\n                <Button\n                    variant=\"secondary\"\n                    onClick={onReject}\n                >\n                    {__('Reject & Try Again', 'wedocs')}\n                </Button>\n                <Button\n                    variant=\"primary\"\n                    onClick={onAccept}\n                >\n                    {__('Accept & Insert', 'wedocs')}\n                </Button>\n            </HStack>\n        </VStack>\n    );\n};\n\nexport default AiDocWriterPreview;\n","/**\n * AI Service Utility\n *\n * Centralized service for managing AI provider integrations\n * and API calls across all AI-powered features in weDocs.\n *\n * Available WordPress Filters:\n *\n * @filter wedocs_ai_service_providers\n * Allows customization of AI service provider configurations including models,\n * base URLs, and provider names for the AI service utility.\n *\n * @since 2.0.0\n */\n\nimport { __ } from '@wordpress/i18n';\n\nclass AiService {\n    constructor() {\n        // Use centralized provider configs from WordPress\n        this.providers = window.weDocsEditorVars?.aiProviderConfigs || {};\n\n        /**\n         * Filter: wedocs_ai_service_providers\n         *\n         * Allows customization of AI service provider configurations including models,\n         * base URLs, and provider names for the AI service utility.\n         *\n         * @param {Object} providers - The providers configuration object\n         * @param {Object} providers.openai - OpenAI provider configuration\n         * @param {string} providers.openai.name - Provider display name\n         * @param {string} providers.openai.baseUrl - API base URL\n         * @param {Object} providers.openai.models - Available models object (key: model_id, value: display_name)\n         * @param {Object} providers.anthropic - Anthropic provider configuration\n         * @param {Object} providers.google - Google Gemini provider configuration\n         * @param {Object} providers.azure - Azure OpenAI provider configuration\n         *\n         * @example\n         * // Add a new model to OpenAI\n         * wp.hooks.addFilter('wedocs_ai_service_providers', 'my-plugin', function(providers) {\n         *     providers.openai.models['gpt-4-turbo'] = 'GPT-4 Turbo';\n         *     return providers;\n         * });\n         *\n         * @example\n         * // Add a completely new provider\n         * wp.hooks.addFilter('wedocs_ai_service_providers', 'my-plugin', function(providers) {\n         *     providers.custom_provider = {\n         *         name: 'Custom AI Provider',\n         *         baseUrl: 'https://api.custom-provider.com/v1',\n         *         models: {\n         *             'custom-model-1': 'Custom Model 1',\n         *             'custom-model-2': 'Custom Model 2'\n         *         }\n         *     };\n         *     return providers;\n         * });\n         *\n         * @example\n         * // Modify existing provider configuration\n         * wp.hooks.addFilter('wedocs_ai_service_providers', 'my-plugin', function(providers) {\n         *     providers.openai.baseUrl = 'https://custom-openai-proxy.com/v1';\n         *     return providers;\n         * });\n         *\n         * @since 2.0.0\n         */\n        this.providers = wp.hooks.applyFilters('wedocs_ai_service_providers', this.providers);\n    }\n\n    /**\n     * Get AI settings from WordPress\n     */\n    async getAiSettings() {\n        try {\n            const response = await fetch('/wp-json/wp/v2/docs/settings?data=wedocs_settings');\n            const settings = await response.json();\n            return settings?.ai || this.getDefaultAiSettings();\n        } catch (error) {\n            console.error('Failed to fetch AI settings:', error);\n            return this.getDefaultAiSettings();\n        }\n    }\n\n    /**\n     * Get default AI settings structure\n     */\n    getDefaultAiSettings() {\n        const providers = {};\n\n        // Generate settings from centralized configs\n        Object.keys(this.providers).forEach(providerKey => {\n            const provider = this.providers[providerKey];\n            const modelKeys = Object.keys(provider.models);\n            const firstModel = modelKeys[0]; // Use first model as default\n\n            providers[providerKey] = {\n                api_key: '',\n                models: modelKeys,\n                selected_model: firstModel\n            };\n\n            // Add endpoint for Azure if it exists\n            if (providerKey === 'azure') {\n                providers[providerKey].endpoint = '';\n            }\n        });\n\n        return {\n            default_provider: 'openai',\n            providers: providers\n        };\n    }\n\n    /**\n     * Test API connection for a specific provider\n     */\n    async testApiConnection(provider, apiKey, endpoint = null) {\n        try {\n            const providerConfig = this.providers[provider];\n            if (!providerConfig) {\n                throw new Error(__('Invalid provider specified', 'wedocs'));\n            }\n\n            if (!apiKey) {\n                throw new Error(__('API key is required', 'wedocs'));\n            }\n\n            // For Azure, endpoint is required\n            if (provider === 'azure' && !endpoint) {\n                throw new Error(__('Azure endpoint is required', 'wedocs'));\n            }\n\n            const testPayload = this.getTestPayload(provider);\n            const response = await this.makeApiCall(provider, apiKey, endpoint, testPayload);\n\n            return {\n                success: true,\n                message: __('API connection successful', 'wedocs'),\n                response: response\n            };\n        } catch (error) {\n            return {\n                success: false,\n                message: error.message || __('API connection failed', 'wedocs'),\n                error: error\n            };\n        }\n    }\n\n    /**\n     * Generate content using AI\n     */\n    async generateContent(prompt, options = {}) {\n        try {\n            const aiSettings = await this.getAiSettings();\n            const {\n                provider = aiSettings.default_provider,\n                model = null,\n                feature = 'ai_doc_writer'\n            } = options;\n\n            // Get provider and model configuration\n            const providerConfig = aiSettings.providers[provider];\n\n            if (!providerConfig || !providerConfig.api_key) {\n                throw new Error(__('AI provider not configured or API key missing', 'wedocs'));\n            }\n\n            const selectedModel = model || providerConfig.selected_model;\n            const endpoint = provider === 'azure' ? providerConfig.endpoint : null;\n\n            // Prepare the request payload\n            const payload = this.preparePayload(provider, selectedModel, prompt, options);\n\n            // Make the API call\n            const response = await this.makeApiCall(\n                provider,\n                providerConfig.api_key,\n                endpoint,\n                payload,\n                selectedModel\n            );\n\n            return this.parseResponse(provider, response);\n        } catch (error) {\n            console.error('AI content generation failed:', error);\n            throw error;\n        }\n    }\n\n    /**\n     * List available models for Google Gemini API\n     */\n    async listGoogleModels(apiKey) {\n        try {\n            const url = `https://generativelanguage.googleapis.com/v1beta/models?key=${apiKey}`;\n\n            const response = await fetch(url, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n\n            if (!response.ok) {\n                const errorData = await response.json().catch(() => ({}));\n                throw new Error(\n                    errorData.error?.message ||\n                    errorData.message ||\n                    __('Failed to list Google models', 'wedocs')\n                );\n            }\n\n            const data = await response.json();\n            return data;\n        } catch (error) {\n            throw error;\n        }\n    }\n\n    /**\n     * Get test payload for API connection testing\n     */\n    getTestPayload(provider) {\n        const testPrompts = {\n            openai: {\n                model: 'gpt-3.5-turbo',\n                messages: [{ role: 'user', content: 'Hello' }],\n                max_tokens: 10\n            },\n            anthropic: {\n                model: 'claude-3-haiku-20240307',\n                max_tokens: 10,\n                messages: [{ role: 'user', content: 'Hello' }]\n            },\n            google: {\n                contents: [{\n                    parts: [{ text: 'Hello' }]\n                }]\n            },\n            azure: {\n                model: 'gpt-3.5-turbo',\n                messages: [{ role: 'user', content: 'Hello' }],\n                max_tokens: 10\n            }\n        };\n\n        return testPrompts[provider] || testPrompts.openai;\n    }\n\n    /**\n     * Prepare payload for content generation\n     */\n    preparePayload(provider, model, prompt, options = {}) {\n        const basePayloads = {\n            openai: {\n                model: model,\n                messages: [\n                    {\n                        role: 'system',\n                        content: options.systemPrompt || __('You are a helpful documentation assistant.', 'wedocs')\n                    },\n                    {\n                        role: 'user',\n                        content: prompt\n                    }\n                ],\n                max_tokens: options.maxTokens || 2000,\n                temperature: options.temperature || 0.7\n            },\n            anthropic: {\n                model: model,\n                max_tokens: options.maxTokens || 2000,\n                messages: [\n                    {\n                        role: 'user',\n                        content: `${options.systemPrompt || __('You are a helpful documentation assistant.', 'wedocs')}\\n\\n${prompt}`\n                    }\n                ]\n            },\n            google: {\n                contents: [{\n                    parts: [{\n                        text: `${options.systemPrompt || __('You are a helpful documentation assistant.', 'wedocs')}\\n\\n${prompt}`\n                    }]\n                }],\n                generationConfig: {\n                    maxOutputTokens: options.maxTokens || 2000,\n                    temperature: options.temperature || 0.7\n                }\n            },\n            azure: {\n                model: model,\n                messages: [\n                    {\n                        role: 'system',\n                        content: options.systemPrompt || __('You are a helpful documentation assistant.', 'wedocs')\n                    },\n                    {\n                        role: 'user',\n                        content: prompt\n                    }\n                ],\n                max_tokens: options.maxTokens || 2000,\n                temperature: options.temperature || 0.7\n            }\n        };\n\n        const finalPayload = basePayloads[provider] || basePayloads.openai;\n\n        return finalPayload;\n    }\n\n    /**\n     * Make API call to the specified provider\n     */\n    async makeApiCall(provider, apiKey, endpoint, payload, model = null) {\n        const providerConfig = this.providers[provider];\n        let url, headers;\n\n        // Prepare URL and headers based on provider\n        switch (provider) {\n            case 'openai':\n                // Use the endpoint directly from centralized config (already includes /chat/completions)\n                url = providerConfig.endpoint || 'https://api.openai.com/v1/chat/completions';\n                headers = {\n                    'Authorization': `Bearer ${apiKey}`,\n                    'Content-Type': 'application/json'\n                };\n                break;\n\n            case 'anthropic':\n                // Use the endpoint directly from centralized config (already includes /messages)\n                url = providerConfig.endpoint || 'https://api.anthropic.com/v1/messages';\n                headers = {\n                    'x-api-key': apiKey,\n                    'Content-Type': 'application/json',\n                    'anthropic-version': '2023-06-01'\n                };\n                break;\n\n            case 'google':\n                // Use endpoint from centralized config and replace {model} placeholder\n                const endpoint = providerConfig.endpoint || 'https://generativelanguage.googleapis.com/v1beta/models/{model}:generateContent';\n                const selectedModel = model || 'gemini-2.0-flash-exp';\n                url = endpoint.replace('{model}', selectedModel) + `?key=${apiKey}`;\n                headers = {\n                    'Content-Type': 'application/json'\n                };\n                break;\n\n            case 'azure':\n                url = `${endpoint}/openai/deployments/${payload.model}/chat/completions?api-version=2023-12-01-preview`;\n                headers = {\n                    'api-key': apiKey,\n                    'Content-Type': 'application/json'\n                };\n                break;\n\n            default:\n                throw new Error(__('Unsupported AI provider', 'wedocs'));\n        }\n\n        const response = await fetch(url, {\n            method: 'POST',\n            headers: headers,\n            body: JSON.stringify(payload)\n        });\n\n        if (!response.ok) {\n            let errorData = {};\n            let errorMessage = __('API request failed', 'wedocs');\n\n            try {\n                const responseText = await response.text();\n\n                // Try to parse as JSON\n                if (responseText.trim().startsWith('{')) {\n                    errorData = JSON.parse(responseText);\n                    errorMessage = errorData.error?.message || errorData.message || errorMessage;\n                } else {\n                    // If it's HTML (like a 404 page), provide a more helpful message\n                    errorMessage = `HTTP ${response.status}: ${response.statusText}`;\n                }\n            } catch (parseError) {\n                console.error('AI Service - Failed to parse error response:', parseError);\n                errorMessage = `HTTP ${response.status}: ${response.statusText}`;\n            }\n\n            // If it's a Google model not found error, list available models\n            if (provider === 'google' && errorMessage.includes('is not found for API version')) {\n                try {\n                    await this.listGoogleModels(apiKey);\n                } catch (listError) {\n                    console.error('AI Service - Failed to list models:', listError);\n                }\n            }\n\n            throw new Error(errorMessage);\n        }\n\n        return await response.json();\n    }\n\n    /**\n     * Parse response from different providers\n     */\n    parseResponse(provider, response) {\n        switch (provider) {\n            case 'openai':\n            case 'azure':\n                return {\n                    content: response.choices?.[0]?.message?.content || '',\n                    usage: response.usage || null\n                };\n\n            case 'anthropic':\n                return {\n                    content: response.content?.[0]?.text || '',\n                    usage: response.usage || null\n                };\n\n            case 'google':\n                return {\n                    content: response.candidates?.[0]?.content?.parts?.[0]?.text || '',\n                    usage: response.usageMetadata || null\n                };\n\n            default:\n                return {\n                    content: '',\n                    usage: null\n                };\n        }\n    }\n\n    /**\n     * Get available models for a provider\n     */\n    getProviderModels(provider) {\n        return this.providers[provider]?.models || {};\n    }\n\n    /**\n     * Validate AI settings\n     */\n    validateAiSettings(settings) {\n        const errors = [];\n\n        if (!settings.default_provider) {\n            errors.push(__('Default provider is required', 'wedocs'));\n        }\n\n        if (!this.providers[settings.default_provider]) {\n            errors.push(__('Invalid default provider', 'wedocs'));\n        }\n\n        // Validate provider configurations\n        Object.entries(settings.providers || {}).forEach(([providerKey, config]) => {\n            if (config.api_key && !this.providers[providerKey]) {\n                errors.push(`${providerKey}: ${__('Invalid provider', 'wedocs')}`);\n            }\n\n            if (providerKey === 'azure' && config.api_key && !config.endpoint) {\n                errors.push(`${providerKey}: ${__('Endpoint is required for Azure OpenAI', 'wedocs')}`);\n            }\n        });\n\n        return {\n            isValid: errors.length === 0,\n            errors: errors\n        };\n    }\n}\n\n// Create and export a singleton instance\nconst aiService = new AiService();\nexport default aiService;\n","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editor\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["__","useState","registerPlugin","PluginSidebar","useSelect","store","editorStore","coreStore","AiDocWriterModal","AiIcon","createElement","width","height","viewBox","fill","xmlns","d","AiDocWriter","isModalOpen","setIsModalOpen","isViewable","postTypeName","select","postType","getCurrentPostType","postTypeObject","getPostType","viewable","Fragment","name","title","icon","style","padding","marginBottom","fontSize","color","onClick","className","fontWeight","backgroundColor","borderColor","isOpen","onClose","render","useEffect","useMemo","Modal","Button","TextControl","TextareaControl","ToggleControl","Notice","Spinner","PanelBody","PanelRow","Card","CardBody","CardHeader","Flex","FlexItem","__experimentalHStack","HStack","__experimentalVStack","VStack","useDispatch","blockEditorStore","createBlock","AiDocWriterPreview","aiService","setTitle","prompt","setPrompt","keywords","setKeywords","overwriteContent","setOverwriteContent","isGenerating","setIsGenerating","generatedContent","setGeneratedContent","showPreview","setShowPreview","error","setError","insertBlocks","replaceBlocks","insertDefaultBlock","editPost","editorData","getCurrentPost","getEditedPostContent","getSelectedBlockClientId","getBlocks","getSelectedBlock","getBlockInsertionPoint","getBlockOrder","post","content","selectedBlockClientId","blocks","selectedBlock","insertionPoint","blockOrder","currentPost","selectedBlockId","cursorPosition","id","contentRaw","contentRendered","hasSelection","selectedBlockIndex","indexOf","clientId","generateDynamicPrompt","docTitle","docKeywords","dynamicPrompt","replace","cleanGeneratedContent","cleaned","trim","validateGeneratedContent","errors","length","push","isValid","hasParagraphs","test","hasHeadings","dangerousPatterns","pattern","textContent","handleGenerate","aiSettings","getAiSettings","providers","default_provider","api_key","systemPrompt","selectedModel","selected_model","result","generateContent","provider","model","feature","maxTokens","temperature","Error","cleanedContent","validation","join","err","message","sanitizeContent","createContentBlocks","htmlContent","sanitizedContent","tempDiv","document","innerHTML","Array","from","children","forEach","element","tagName","toLowerCase","level","parseInt","charAt","listType","listItems","querySelectorAll","map","li","values","ordered","value","outerHTML","handleAccept","contentBlocks","blockIds","block","filter","currentBlocks","wp","data","allBlocks","allBlockIds","dispatch","handleReject","handleClose","onRequestClose","size","spacing","label","onChange","placeholder","help","__nextHasNoMarginBottom","__next40pxDefaultSize","rows","checked","status","isDismissible","justify","variant","disabled","onAccept","onReject","dangerouslySetInnerHTML","__html","border","borderRadius","maxHeight","overflowY","AiService","constructor","window","weDocsEditorVars","aiProviderConfigs","hooks","applyFilters","response","fetch","settings","json","ai","getDefaultAiSettings","console","Object","keys","providerKey","modelKeys","models","firstModel","endpoint","testApiConnection","apiKey","providerConfig","testPayload","getTestPayload","makeApiCall","success","options","payload","preparePayload","parseResponse","listGoogleModels","url","method","headers","ok","errorData","catch","testPrompts","openai","messages","role","max_tokens","anthropic","google","contents","parts","text","azure","basePayloads","generationConfig","maxOutputTokens","finalPayload","body","JSON","stringify","errorMessage","responseText","startsWith","parse","statusText","parseError","includes","listError","choices","usage","candidates","usageMetadata","getProviderModels","validateAiSettings","entries","config"],"sourceRoot":""}